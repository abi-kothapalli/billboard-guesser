{"ast":null,"code":"var _jsxFileName = \"/Users/akothapalli/Documents/ChangePlusPlus/change-coding-challenge-2021-abi-kothapalli/frontend/src/components/loading.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Loading extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      seconds: this.props.backendActive ? 1 : 7\n    };\n\n    this.handleTimer = () => {\n      const seconds = this.state.seconds;\n\n      if (seconds > 0) {\n        setTimeout(() => this.setState({\n          seconds: seconds - 1\n        }), 1000);\n      } else {\n        if (!this.props.backendActive) {\n          window.location.reload();\n        } else {\n          axios.get(\"http://localhost:8080/\").then(res => {\n            window.location.reload();\n          }).catch(error => {\n            if (error.request.status === 0) {\n              // Backend server is not being detected\n              window.location.reload();\n            } else {\n              // Backend server is active but is likely sending back 425, since web scraper is not finished\n              this.setState({\n                seconds: 1\n              });\n            }\n          });\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleTimer();\n  }\n\n  componentDidUpdate() {\n    this.handleTimer();\n  }\n\n  render() {\n    if (!this.props.backendActive) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jumbotron\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"display-4\",\n            children: \"Oh, no!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lead\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"We could not reach the backend server.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this), \" \", \"Please ensure that the backend server is active when trying to access this webpage. Once the backend server is active, you may manually refresh this page or wait for the page to automatically reload.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"my-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"This webpage will automatically be reloaded in\", \" \", this.state.seconds, \" seconds...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner-border ml-auto\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jumbotron\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"display-4\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lead\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"This webpage is currently loading.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), \" \", \"Please be patient.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"my-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"This webpage will automatically be reloaded once ready.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner-border ml-auto\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/akothapalli/Documents/ChangePlusPlus/change-coding-challenge-2021-abi-kothapalli/frontend/src/components/loading.jsx"],"names":["React","Component","axios","Loading","state","seconds","props","backendActive","handleTimer","setTimeout","setState","window","location","reload","get","then","res","catch","error","request","status","componentDidMount","componentDidUpdate","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class Loading extends Component {\n    state = { seconds: this.props.backendActive ? 1 : 7 };\n\n    componentDidMount() {\n        this.handleTimer();\n    }\n\n    componentDidUpdate() {\n        this.handleTimer();\n    }\n\n    handleTimer = () => {\n        const seconds = this.state.seconds;\n        if (seconds > 0) {\n            setTimeout(() => this.setState({ seconds: seconds - 1 }), 1000);\n        } else {\n            if (!this.props.backendActive) {\n                window.location.reload();\n            } else {\n                axios\n                    .get(\"http://localhost:8080/\")\n                    .then((res) => {\n                        window.location.reload();\n                    })\n                    .catch((error) => {\n                        if (error.request.status === 0) {\n                            // Backend server is not being detected\n                            window.location.reload();\n                        } else {\n                            // Backend server is active but is likely sending back 425, since web scraper is not finished\n                            this.setState({ seconds: 1 });\n                        }\n                    });\n            }\n        }\n    };\n\n    render() {\n        if (!this.props.backendActive) {\n            return (\n                <div className=\"mt-3\">\n                    <div className=\"jumbotron\">\n                        <h1 className=\"display-4\">Oh, no!</h1>\n                        <p className=\"lead\">\n                            <strong>\n                                We could not reach the backend server.\n                            </strong>{\" \"}\n                            Please ensure that the backend server is active when\n                            trying to access this webpage. Once the backend\n                            server is active, you may manually refresh this page\n                            or wait for the page to automatically reload.\n                        </p>\n                        <hr className=\"my-4\" />\n                        <div className=\"d-flex align-items-center\">\n                            <p>\n                                This webpage will automatically be reloaded in{\" \"}\n                                {this.state.seconds} seconds...\n                            </p>\n                            <div\n                                className=\"spinner-border ml-auto\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                            ></div>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"mt-3\">\n                    <div className=\"jumbotron\">\n                        <h1 className=\"display-4\">Loading...</h1>\n                        <p className=\"lead\">\n                            <strong>This webpage is currently loading.</strong>{\" \"}\n                            Please be patient.\n                        </p>\n                        <hr className=\"my-4\" />\n                        <div className=\"d-flex align-items-center\">\n                            <p>\n                                This webpage will automatically be reloaded once\n                                ready.\n                            </p>\n                            <div\n                                className=\"spinner-border ml-auto\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                            ></div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}